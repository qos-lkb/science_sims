<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Solar Radiation Simulator</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600;800&display=swap');

        body {
            font-family: 'Inter', sans-serif;
            background-color: #0f172a; /* Dark space background */
            color: white;
        }

        /* Sun Glow Animation */
        @keyframes sun-pulse {
            0% { box-shadow: 0 0 20px #fbbf24; }
            50% { box-shadow: 0 0 60px #f59e0b; }
            100% { box-shadow: 0 0 20px #fbbf24; }
        }

        .sun {
            background: radial-gradient(circle at 30% 30%, #fef08a, #f59e0b);
            border-radius: 50%;
            animation: sun-pulse 3s infinite ease-in-out;
            transition: transform 0.3s;
        }

        /* Earth Appearance */
        .earth {
            background: radial-gradient(circle at 30% 30%, #60a5fa, #1d4ed8); /* Default Blue */
            border-radius: 50%;
            box-shadow: inset -10px -10px 20px rgba(0,0,0,0.5);
            position: relative;
            overflow: hidden;
            transition: background 0.5s, box-shadow 0.5s;
        }
        
        /* Earth Atmosphere/Glow */
        .earth::after {
            content: '';
            position: absolute;
            top: 0; left: 0; right: 0; bottom: 0;
            border-radius: 50%;
            box-shadow: 0 0 20px rgba(59, 130, 246, 0.3);
            transition: box-shadow 0.5s;
            z-index: -1;
        }

        /* Radiation Waves (SVG) */
        .wave-path {
            fill: none;
            stroke: #f59e0b;
            stroke-width: 2;
            stroke-linecap: round;
            opacity: 0;
            animation: flow 1s linear infinite;
        }

        @keyframes flow {
            0% { stroke-dashoffset: 20; opacity: 0; }
            20% { opacity: 1; }
            80% { opacity: 1; }
            100% { stroke-dashoffset: 0; opacity: 0; }
        }

        /* Slider Styling */
        input[type=range] {
            -webkit-appearance: none; 
            background: transparent; 
        }
        input[type=range]::-webkit-slider-thumb {
            -webkit-appearance: none;
            height: 24px;
            width: 24px;
            border-radius: 50%;
            background: #f59e0b;
            cursor: pointer;
            margin-top: -10px; 
            box-shadow: 0 0 10px white;
        }
        input[type=range]::-webkit-slider-runnable-track {
            width: 100%;
            height: 4px;
            cursor: pointer;
            background: #475569;
            border-radius: 2px;
        }
    </style>
</head>
<body class="min-h-screen flex flex-col items-center justify-center p-4">

    <!-- Main Container -->
    <div class="max-w-5xl w-full bg-slate-800/50 backdrop-blur-md rounded-2xl border border-slate-700 shadow-2xl overflow-hidden">
        
        <!-- Header -->
        <div class="p-6 border-b border-slate-700 flex justify-between items-center">
            <div>
                <h1 class="text-2xl font-bold text-yellow-400">Solar Radiation Lab ☀️</h1>
                <p class="text-slate-400 text-sm">Exploring Heat Transfer via Electromagnetic Waves</p>
            </div>
            <div class="bg-slate-900 px-4 py-2 rounded-lg border border-slate-700">
                <span class="text-xs text-slate-500 uppercase tracking-wider">Current Status</span>
                <div id="status-text" class="text-green-400 font-bold">Life Sustaining</div>
            </div>
        </div>

        <!-- Simulation Area -->
        <div class="relative h-80 bg-slate-900 flex items-center justify-between px-8 md:px-20 overflow-hidden">
            
            <!-- Background Stars -->
            <div class="absolute inset-0 opacity-30" style="background-image: radial-gradient(white 1px, transparent 1px); background-size: 50px 50px;"></div>

            <!-- Sun -->
            <div class="relative z-10 flex flex-col items-center gap-2">
                <div id="sun" class="sun w-24 h-24 md:w-32 md:h-32"></div>
                <span class="text-xs font-mono text-yellow-500">SOURCE</span>
            </div>

            <!-- Radiation Waves (SVG) -->
            <div class="flex-1 mx-4 h-20 relative flex items-center justify-center opacity-80">
                <svg width="100%" height="60" preserveAspectRatio="none" class="overflow-visible">
                    <!-- Multiple wave paths for effect -->
                    <path id="wave1" d="M0,30 Q50,0 100,30 T200,30 T300,30 T400,30" class="wave-path" style="animation-duration: 1.5s; stroke: #f59e0b;" />
                    <path id="wave2" d="M0,30 Q50,60 100,30 T200,30 T300,30 T400,30" class="wave-path" style="animation-duration: 1.2s; stroke: #fbbf24; animation-delay: 0.2s" />
                    <path id="wave3" d="M0,30 Q50,15 100,30 T200,30 T300,30 T400,30" class="wave-path" style="animation-duration: 0.8s; stroke: #fff; stroke-width: 1; animation-delay: 0.5s" />
                </svg>
                <div class="absolute top-[-20px] text-xs text-slate-500 font-mono tracking-widest uppercase">Radiation (Vacuum)</div>
            </div>

            <!-- Earth -->
            <div class="relative z-10 flex flex-col items-center gap-2">
                <div id="earth" class="earth w-20 h-20 md:w-28 md:h-28"></div>
                <span class="text-xs font-mono text-blue-400">ABSORBER</span>
            </div>
        </div>

        <!-- Controls & Data -->
        <div class="p-6 grid grid-cols-1 md:grid-cols-2 gap-8 bg-slate-800">
            
            <!-- Controls -->
            <div>
                <label class="block text-sm font-semibold text-slate-300 mb-4">
                    Control Solar Irradiance ($W/m^2$)
                </label>
                <input type="range" id="irradiance-slider" min="0" max="3000" value="1361" class="w-full mb-2">
                <div class="flex justify-between text-xs text-slate-500 font-mono">
                    <span>0 (Darkness)</span>
                    <span>1361 (Current)</span>
                    <span>3000 (Inferno)</span>
                </div>
                <p class="mt-4 text-sm text-slate-400">
                    Adjust the slide bar to change the intensity of radiation hitting the Earth. Note that radiation needs <strong>no medium</strong> to travel!
                </p>
            </div>

            <!-- Readout Panel -->
            <div class="bg-slate-900 rounded-xl p-4 border border-slate-700 flex flex-col justify-center">
                <div class="grid grid-cols-2 gap-4 text-center">
                    <div>
                        <span class="block text-slate-500 text-xs uppercase">Solar Irradiance (S)</span>
                        <span id="irradiance-display" class="text-2xl font-mono font-bold text-yellow-400">1361</span>
                        <span class="text-xs text-slate-500">Watts/m²</span>
                    </div>
                    <div>
                        <span class="block text-slate-500 text-xs uppercase">Earth Temp (Avg)</span>
                        <span id="temp-display" class="text-2xl font-mono font-bold text-white">-18</span>
                        <span class="text-xs text-slate-500">°Celsius</span>
                    </div>
                </div>
            </div>
        </div>
        
        <!-- Physics Explanation -->
        <div class="p-6 bg-slate-800 border-t border-slate-700">
            <h3 class="text-white font-bold mb-2">Physics Notes: Stefan-Boltzmann Law</h3>
            <p class="text-sm text-slate-400 leading-relaxed">
                The temperature of the Earth is determined by the balance between incoming solar radiation and outgoing thermal radiation. 
                We calculate this using the formula: $$T = \left( \frac{S(1-\alpha)}{4\sigma} \right)^{1/4}$$
                Where <strong>S</strong> is the solar irradiance (controlled by your slider), <strong>$\alpha$</strong> is Earth's albedo (reflectivity, approx 0.3), and <strong>$\sigma$</strong> is the Stefan-Boltzmann constant.
            </p>
        </div>

    </div>

    <script>
        // Constants
        const SIGMA = 5.67e-8; // Stefan-Boltzmann constant
        const ALBEDO = 0.30;   // Earth's average albedo
        
        // DOM Elements
        const slider = document.getElementById('irradiance-slider');
        const irradianceDisplay = document.getElementById('irradiance-display');
        const tempDisplay = document.getElementById('temp-display');
        const sun = document.getElementById('sun');
        const earth = document.getElementById('earth');
        const waves = document.querySelectorAll('.wave-path');
        const statusText = document.getElementById('status-text');

        function calculateTemperature(S) {
            // If no sun, temperature drops towards absolute zero (simplified limit)
            if (S <= 0) return -273.15; 

            // T = ( (S * (1 - a)) / (4 * sigma) ) ^ 0.25
            // Result is in Kelvin
            const T_kelvin = Math.pow( (S * (1 - ALBEDO)) / (4 * SIGMA), 0.25 );
            return T_kelvin - 273.15; // Convert to Celsius
        }

        function updateVisuals(S, tempC) {
            // 1. Update Text
            irradianceDisplay.textContent = S;
            tempDisplay.textContent = tempC.toFixed(1);

            // 2. Sun Brightness (Opacity & Shadow)
            const sunIntensity = Math.min(1, S / 2000); 
            sun.style.opacity = 0.3 + (sunIntensity * 0.7);
            sun.style.boxShadow = `0 0 ${20 + (sunIntensity * 80)}px ${10 + (sunIntensity * 20)}px #f59e0b`;

            // 3. Earth Appearance based on Temp
            let earthColor;
            let status = "";
            let statusColor = "";

            if (tempC < -50) {
                earthColor = "radial-gradient(circle at 30% 30%, #e0f2fe, #93c5fd)"; // Frozen White/Blue
                status = "Frozen Wasteland";
                statusColor = "text-blue-300";
            } else if (tempC < 0) {
                earthColor = "radial-gradient(circle at 30% 30%, #bae6fd, #2563eb)"; // Icy Blue
                status = "Ice Age";
                statusColor = "text-cyan-400";
            } else if (tempC >= 0 && tempC < 30) {
                earthColor = "radial-gradient(circle at 30% 30%, #4ade80, #1d4ed8)"; // Healthy Green/Blue
                status = "Habitable / Life Sustaining";
                statusColor = "text-green-400";
            } else if (tempC >= 30 && tempC < 100) {
                earthColor = "radial-gradient(circle at 30% 30%, #fde047, #b45309)"; // Dried out / Desert
                status = "Extreme Heat / Desertification";
                statusColor = "text-orange-400";
            } else {
                earthColor = "radial-gradient(circle at 30% 30%, #ef4444, #7f1d1d)"; // Burning Red
                status = "Boiling / Uninhabitable";
                statusColor = "text-red-500";
            }

            earth.style.background = earthColor;
            statusText.textContent = status;
            statusText.className = `font-bold ${statusColor}`;

            // 4. Wave Animation Speed & Opacity
            // We adjust the animation duration logic roughly. 
            // Higher S = Faster waves, brighter strokes
            const speed = Math.max(0.2, 2 - (S / 1500)); // faster as S increases
            waves.forEach(wave => {
                wave.style.animationDuration = `${speed}s`;
                wave.style.opacity = S === 0 ? 0 : 1;
            });
        }

        // Event Listener
        slider.addEventListener('input', (e) => {
            const S = parseInt(e.target.value);
            const tempC = calculateTemperature(S);
            updateVisuals(S, tempC);
        });

        // Initial State
        const initialS = parseInt(slider.value);
        updateVisuals(initialS, calculateTemperature(initialS));

    </script>
</body>
</html>
