<!DOCTYPE html>
<html lang="zh-Hant">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ç†±å¹³è¡¡æ··åˆæ¨¡æ“¬å¯¦é©—</title>
    <script src="https://unpkg.com/react@18/umd/react.development.js"></script>
    <script src="https://unpkg.com/react-dom@18/umd/react-dom.development.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Noto+Sans+TC:wght@400;500;700&display=swap');
        body { font-family: 'Noto Sans TC', sans-serif; background-color: #f3f4f6; }
        
        /* Slider Styling */
        input[type=range] {
            -webkit-appearance: none;
            width: 100%;
            background: transparent;
        }
        input[type=range]::-webkit-slider-thumb {
            -webkit-appearance: none;
            height: 20px;
            width: 20px;
            border-radius: 50%;
            background: #3b82f6;
            cursor: pointer;
            margin-top: -8px; 
            box-shadow: 0 2px 6px rgba(0,0,0,0.2);
        }
        input[type=range]::-webkit-slider-runnable-track {
            width: 100%;
            height: 4px;
            cursor: pointer;
            background: #e5e7eb;
            border-radius: 2px;
        }
        
        /* Liquid Animation */
        .liquid-fill {
            transition: height 1s cubic-bezier(0.4, 0.0, 0.2, 1), background-color 1s ease;
        }
        
        .pour-stream {
            animation: pour 1s ease-in-out infinite;
        }

        @keyframes pour {
            0% { height: 0; opacity: 0; }
            50% { height: 100px; opacity: 0.8; }
            100% { height: 120px; opacity: 0; }
        }

        @keyframes spin-slow {
            from { transform: rotate(0deg); }
            to { transform: rotate(360deg); }
        }
        .animate-spin-slow {
            animation: spin-slow 3s linear infinite;
        }
        .animate-fade-in-up {
            animation: fadeInUp 0.5s ease-out forwards;
        }
        @keyframes fadeInUp {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }
    </style>
</head>
<body>
    <div id="root"></div>

    <script type="text/babel">
        const { useState, useEffect, useMemo } = React;

        // Define Icons as React Components
        const FlaskConical = ({ size = 24, className = "" }) => (
            <svg xmlns="http://www.w3.org/2000/svg" width={size} height={size} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" className={className}><path d="M10 2v7.527a2 2 0 0 1-.211.896L4.72 20.55a1 1 0 0 0 .9 1.45h12.76a1 1 0 0 0 .9-1.45l-5.069-10.127A2 2 0 0 1 14 9.527V2"/><path d="M8.5 2h7"/><path d="M7 16h10"/></svg>
        );
        const Thermometer = ({ size = 24, className = "" }) => (
            <svg xmlns="http://www.w3.org/2000/svg" width={size} height={size} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" className={className}><path d="M14 4v10.54a4 4 0 1 1-4 0V4a2 2 0 0 1 4 0Z"/></svg>
        );
        const RefreshCcw = ({ size = 24, className = "" }) => (
            <svg xmlns="http://www.w3.org/2000/svg" width={size} height={size} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" className={className}><path d="M21 12a9 9 0 0 0-9-9 9.75 9.75 0 0 0-6.74 2.74L3 8"/><path d="M3 3v5h5"/><path d="M3 12a9 9 0 0 0 9 9 9.75 9.75 0 0 0 6.74-2.74L21 16"/><path d="M16 16h5v5"/></svg>
        );
        const Calculator = ({ size = 24, className = "" }) => (
            <svg xmlns="http://www.w3.org/2000/svg" width={size} height={size} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" className={className}><rect width="16" height="20" x="4" y="2" rx="2"/><line x1="8" x2="16" y1="6" y2="6"/><line x1="16" x2="16" y1="14" y2="18"/><path d="M16 10h.01"/><path d="M12 10h.01"/><path d="M8 10h.01"/><path d="M12 14h.01"/><path d="M8 14h.01"/><path d="M12 18h.01"/><path d="M8 18h.01"/></svg>
        );
        const ArrowDown = ({ size = 16, className = "" }) => (
             <svg xmlns="http://www.w3.org/2000/svg" width={size} height={size} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" className={className}><line x1="12" y1="5" x2="12" y2="19"></line><polyline points="19 12 12 19 5 12"></polyline></svg>
        );
        const ArrowUp = ({ size = 16, className = "" }) => (
             <svg xmlns="http://www.w3.org/2000/svg" width={size} height={size} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" className={className}><line x1="12" y1="19" x2="12" y2="5"></line><polyline points="5 12 12 5 19 12"></polyline></svg>
        );

        // æ¶²é«”æ•¸æ“šè³‡æ–™åº« (æ¯”ç†±å®¹é‡å–®ä½: J/kgÂ·Â°C)
        const LIQUID_DATA = {
            water: { name: 'æ°´', c: 4200, color: [59, 130, 246], density: 1.0 }, // Blue
            alcohol: { name: 'ä¹™é†‡ (é…’ç²¾)', c: 2440, color: [239, 68, 68], density: 0.79 }, // Red
            tea: { name: 'èŒ¶', c: 4180, color: [120, 53, 15], density: 1.01 }, // Dark Brown (Replaced Glycerin)
            juice: { name: 'æœæ± (æ©™æ±)', c: 3800, color: [251, 146, 60], density: 1.04 }, // Orange (Replaced Oil)
            milk: { name: 'ç‰›å¥¶', c: 3900, color: [243, 244, 246], density: 1.03 } // White/Gray
        };

        const App = () => {
            // ç‹€æ…‹è¨­å®š
            const [liquidA, setLiquidA] = useState({ type: 'water', mass: 1.0, temp: 25 });
            const [liquidB, setLiquidB] = useState({ type: 'juice', mass: 1.0, temp: 60 }); 
            const [isMixed, setIsMixed] = useState(false);
            const [isAnimating, setIsAnimating] = useState(false);
            const [result, setResult] = useState(null);

            // æ··åˆè¨ˆç®—é‚è¼¯
            const calculateResult = () => {
                const mA = parseFloat(liquidA.mass);
                const cA = LIQUID_DATA[liquidA.type].c;
                const tA = parseFloat(liquidA.temp);

                const mB = parseFloat(liquidB.mass);
                const cB = LIQUID_DATA[liquidB.type].c;
                const tB = parseFloat(liquidB.temp);

                // ç†±å¹³è¡¡å…¬å¼: Tf = (m1c1T1 + m2c2T2) / (m1c1 + m2c2)
                const heatCapacityA = mA * cA;
                const heatCapacityB = mB * cB;
                const energyA = heatCapacityA * tA;
                const energyB = heatCapacityB * tB;

                const rawFinalTemp = (energyA + energyB) / (heatCapacityA + heatCapacityB);
                const finalTempFixed = rawFinalTemp.toFixed(2);
                const tFinal = parseFloat(finalTempFixed);
                
                // æ··åˆå¾Œçš„é¡è‰²è¨ˆç®—
                const colorA = LIQUID_DATA[liquidA.type].color;
                const colorB = LIQUID_DATA[liquidB.type].color;
                const totalMass = mA + mB;
                const mixedColor = colorA.map((val, i) => 
                    Math.round((val * mA + colorB[i] * mB) / totalMass)
                );

                // èƒ½é‡åˆ†æï¼šåˆ¤æ–·èª°æ”¾ç†±ã€èª°å¸ç†±
                let energyAnalysis = null;
                if (tA !== tB) {
                    const isAGreater = tA > tB;
                    
                    // å®šç¾©é«˜æº«èˆ‡ä½æº«ç‰©é«”
                    const hotObj = isAGreater 
                        ? { label: 'A', name: LIQUID_DATA[liquidA.type].name, m: mA, c: cA, t_initial: tA }
                        : { label: 'B', name: LIQUID_DATA[liquidB.type].name, m: mB, c: cB, t_initial: tB };
                    
                    const coldObj = isAGreater
                        ? { label: 'B', name: LIQUID_DATA[liquidB.type].name, m: mB, c: cB, t_initial: tB }
                        : { label: 'A', name: LIQUID_DATA[liquidA.type].name, m: mA, c: cA, t_initial: tA };

                    // è¨ˆç®— Q = mcÎ”T
                    // ä½¿ç”¨é¡¯ç¤ºçš„æœ€çµ‚æº«åº¦ä¾†è¨ˆç®—ï¼Œä»¥ä¾¿å­¸ç”Ÿé©—ç®—æ™‚æ•¸å€¼å»åˆ
                    const qLost = hotObj.m * hotObj.c * (hotObj.t_initial - tFinal);
                    const qGained = coldObj.m * coldObj.c * (tFinal - coldObj.t_initial);

                    energyAnalysis = {
                        hot: hotObj,
                        cold: coldObj,
                        qLost: Math.round(qLost),
                        qGained: Math.round(qGained)
                    };
                }

                setResult({
                    finalTemp: finalTempFixed,
                    mixedColor: `rgb(${mixedColor.join(',')})`,
                    totalMass: totalMass,
                    analysis: energyAnalysis,
                    rawSteps: {
                         numerator: energyA + energyB,
                         denominator: heatCapacityA + heatCapacityB
                    }
                });
            };

            const handleMix = () => {
                if (isMixed) return; 
                setIsAnimating(true);
                calculateResult();
                setTimeout(() => {
                    setIsMixed(true);
                    setIsAnimating(false);
                }, 800);
            };

            const handleReset = () => {
                setIsMixed(false);
                setResult(null);
                setIsAnimating(false);
            };

            const getLiquidColor = (type) => {
                const rgb = LIQUID_DATA[type].color;
                return `rgb(${rgb.join(',')})`;
            };

            // ç‡’æ¯çµ„ä»¶
            const BeakerDisplay = ({ config, label, isEmptying }) => {
                const info = LIQUID_DATA[config.type];
                const heightPercentage = (config.mass / 3) * 100; 
                
                return (
                    <div className="flex flex-col items-center w-full">
                        <div className="text-lg font-bold text-gray-700 mb-2">{label}</div>
                        <div className="relative w-32 h-40 border-4 border-gray-400 border-t-0 rounded-b-xl bg-white/50 backdrop-blur-sm shadow-inner overflow-hidden transition-all duration-500">
                            <div className="absolute right-0 top-4 w-4 h-0.5 bg-gray-300"></div>
                            <div className="absolute right-0 top-12 w-4 h-0.5 bg-gray-300"></div>
                            <div className="absolute right-0 top-20 w-4 h-0.5 bg-gray-300"></div>
                            <div className="absolute right-0 top-28 w-4 h-0.5 bg-gray-300"></div>
                            
                            <div 
                                className="absolute bottom-0 left-0 w-full transition-all duration-1000 ease-in-out liquid-fill opacity-80"
                                style={{ 
                                    height: isEmptying ? '0%' : `${Math.max(5, heightPercentage)}%`, 
                                    backgroundColor: getLiquidColor(config.type) 
                                }}
                            >
                                <div className="absolute top-0 w-full h-2 bg-white/30"></div>
                            </div>
                            
                            <div className={`absolute right-8 transition-all duration-500 ${isEmptying ? 'bottom-0 opacity-0' : 'bottom-2 opacity-100'}`}>
                                <div className="flex items-center bg-white/90 px-1 rounded text-xs font-mono shadow">
                                    <Thermometer size={12} className="text-red-500 mr-1"/>
                                    {config.temp}Â°C
                                </div>
                            </div>
                        </div>
                        <div className="mt-2 text-sm text-gray-600 font-medium">
                            {info.name} {config.mass}kg
                        </div>
                    </div>
                );
            };

            return (
                <div className="min-h-screen p-4 md:p-8 max-w-6xl mx-auto">
                    <header className="mb-8 text-center">
                        <div className="flex items-center justify-center gap-3 mb-2">
                            <FlaskConical size={32} className="text-blue-600" />
                            <h1 className="text-3xl font-bold text-gray-800">ç‰©ç†å¯¦é©—å®¤ï¼šç†±å¹³è¡¡æ··åˆæ¨¡æ“¬</h1>
                        </div>
                        <p className="text-gray-600">æ¨¡æ“¬å…©ç¨®ä¸åŒæº«åº¦èˆ‡è³ªé‡çš„æ¶²é«”æ··åˆï¼Œè§€å¯Ÿæœ€çµ‚çš„å¹³è¡¡æº«åº¦ã€‚</p>
                    </header>

                    <div className="grid grid-cols-1 lg:grid-cols-12 gap-8">
                        
                        {/* å·¦å´æ§åˆ¶é¢æ¿ */}
                        <div className="lg:col-span-4 space-y-6">
                            <div className="bg-white p-6 rounded-2xl shadow-lg border-l-8 border-blue-500">
                                <h2 className="text-xl font-bold text-gray-800 mb-4 flex items-center">
                                    <span className="w-8 h-8 bg-blue-100 text-blue-600 rounded-full flex items-center justify-center mr-2">A</span>
                                    æ¶²é«” A è¨­å®š
                                </h2>
                                <div className="space-y-4">
                                    <div>
                                        <label className="text-sm font-medium text-gray-500">æ¶²é«”ç¨®é¡</label>
                                        <select 
                                            disabled={isMixed}
                                            className="w-full mt-1 p-2 border rounded-lg bg-gray-50 focus:ring-2 focus:ring-blue-500 outline-none"
                                            value={liquidA.type}
                                            onChange={(e) => setLiquidA({...liquidA, type: e.target.value})}
                                        >
                                            {Object.entries(LIQUID_DATA).map(([key, data]) => (
                                                <option key={key} value={key}>{data.name} (c = {data.c})</option>
                                            ))}
                                        </select>
                                    </div>
                                    <div>
                                        <div className="flex justify-between mb-1">
                                            <label className="text-sm font-medium text-gray-500">è³ªé‡ (kg)</label>
                                            <span className="text-sm font-bold text-blue-600">{liquidA.mass} kg</span>
                                        </div>
                                        <input type="range" min="0.1" max="3" step="0.1" disabled={isMixed} value={liquidA.mass} onChange={(e) => setLiquidA({...liquidA, mass: e.target.value})} className="w-full"/>
                                    </div>
                                    <div>
                                        <div className="flex justify-between mb-1">
                                            <label className="text-sm font-medium text-gray-500">åˆå§‹æº«åº¦ (Â°C)</label>
                                            <span className="text-sm font-bold text-red-500">{liquidA.temp}Â°C</span>
                                        </div>
                                        <input type="range" min="0" max="100" step="1" disabled={isMixed} value={liquidA.temp} onChange={(e) => setLiquidA({...liquidA, temp: e.target.value})} className="w-full"/>
                                    </div>
                                </div>
                            </div>

                            <div className="bg-white p-6 rounded-2xl shadow-lg border-l-8 border-yellow-500">
                                <h2 className="text-xl font-bold text-gray-800 mb-4 flex items-center">
                                    <span className="w-8 h-8 bg-yellow-100 text-yellow-600 rounded-full flex items-center justify-center mr-2">B</span>
                                    æ¶²é«” B è¨­å®š
                                </h2>
                                <div className="space-y-4">
                                    <div>
                                        <label className="text-sm font-medium text-gray-500">æ¶²é«”ç¨®é¡</label>
                                        <select 
                                            disabled={isMixed}
                                            className="w-full mt-1 p-2 border rounded-lg bg-gray-50 focus:ring-2 focus:ring-yellow-500 outline-none"
                                            value={liquidB.type}
                                            onChange={(e) => setLiquidB({...liquidB, type: e.target.value})}
                                        >
                                            {Object.entries(LIQUID_DATA).map(([key, data]) => (
                                                <option key={key} value={key}>{data.name} (c = {data.c})</option>
                                            ))}
                                        </select>
                                    </div>
                                    <div>
                                        <div className="flex justify-between mb-1">
                                            <label className="text-sm font-medium text-gray-500">è³ªé‡ (kg)</label>
                                            <span className="text-sm font-bold text-blue-600">{liquidB.mass} kg</span>
                                        </div>
                                        <input type="range" min="0.1" max="3" step="0.1" disabled={isMixed} value={liquidB.mass} onChange={(e) => setLiquidB({...liquidB, mass: e.target.value})} className="w-full"/>
                                    </div>
                                    <div>
                                        <div className="flex justify-between mb-1">
                                            <label className="text-sm font-medium text-gray-500">åˆå§‹æº«åº¦ (Â°C)</label>
                                            <span className="text-sm font-bold text-red-500">{liquidB.temp}Â°C</span>
                                        </div>
                                        <input type="range" min="0" max="100" step="1" disabled={isMixed} value={liquidB.temp} onChange={(e) => setLiquidB({...liquidB, temp: e.target.value})} className="w-full"/>
                                    </div>
                                </div>
                            </div>
                        </div>

                        {/* ä¸­é–“åŠå³å´ (å±•ç¤ºèˆ‡çµæœ) */}
                        <div className="lg:col-span-8 flex flex-col gap-6">
                            
                            {/* å¯¦é©—å±•ç¤ºå€ */}
                            <div className="bg-white rounded-3xl shadow-xl p-8 relative overflow-hidden min-h-[400px] flex flex-col justify-between">
                                <div className="absolute top-0 left-0 w-full h-full bg-gradient-to-b from-gray-50 to-gray-100 -z-10"></div>
                                <div className="absolute bottom-0 w-full h-4 bg-gray-300"></div>

                                <div className="flex justify-around items-end pb-4 h-full relative">
                                    <div className={`transition-all duration-700 transform ${isAnimating ? 'translate-x-20 -translate-y-24 rotate-45 opacity-0' : 'opacity-100'}`}>
                                        <BeakerDisplay config={liquidA} label="ç‡’æ¯ A" isEmptying={isMixed} />
                                    </div>

                                    <div className="flex flex-col items-center z-10">
                                        <div className="relative w-48 h-64 border-4 border-gray-500 border-t-0 rounded-b-2xl bg-white/60 backdrop-blur shadow-2xl overflow-hidden">
                                            {[1,2,3,4,5].map(i => (
                                                <div key={i} className="absolute left-0 w-6 h-0.5 bg-gray-400" style={{bottom: `${i*16}%`}}></div>
                                            ))}
                                            <div 
                                                className="absolute bottom-0 w-full transition-all duration-1000 liquid-fill"
                                                style={{ 
                                                    height: isMixed ? `${Math.min(95, (result?.totalMass / 6) * 100)}%` : '0%', 
                                                    backgroundColor: result ? result.mixedColor : 'transparent'
                                                }}
                                            >
                                                {isMixed && <div className="absolute top-0 w-full h-4 bg-white/20 animate-pulse"></div>}
                                            </div>
                                            {isAnimating && (
                                                <>
                                                    <div className="absolute top-0 left-1/3 w-2 bg-blue-400 h-full opacity-50" style={{backgroundColor: getLiquidColor(liquidA.type)}}></div>
                                                    <div className="absolute top-0 right-1/3 w-2 bg-yellow-400 h-full opacity-50" style={{backgroundColor: getLiquidColor(liquidB.type)}}></div>
                                                </>
                                            )}
                                        </div>
                                        <div className="mt-4 font-bold text-xl text-gray-800">æ··åˆå®¹å™¨</div>
                                    </div>

                                    <div className={`transition-all duration-700 transform ${isAnimating ? '-translate-x-20 -translate-y-24 -rotate-45 opacity-0' : 'opacity-100'}`}>
                                        <BeakerDisplay config={liquidB} label="ç‡’æ¯ B" isEmptying={isMixed} />
                                    </div>
                                </div>

                                <div className="absolute top-6 left-0 w-full flex justify-center z-20 pointer-events-none">
                                    {!isMixed ? (
                                        <button 
                                            onClick={handleMix}
                                            className="pointer-events-auto flex items-center gap-2 bg-gradient-to-r from-indigo-600 to-purple-600 text-white px-8 py-3 rounded-full text-lg font-bold shadow-lg hover:shadow-xl hover:scale-105 transition-all transform"
                                        >
                                            <RefreshCcw className={`w-6 h-6 ${isAnimating ? 'animate-spin-slow' : ''}`} />
                                            é–‹å§‹æ··åˆ
                                        </button>
                                    ) : (
                                        <button 
                                            onClick={handleReset}
                                            className="pointer-events-auto flex items-center gap-2 bg-gray-600 text-white px-6 py-2 rounded-full font-bold hover:bg-gray-700 transition-colors shadow-lg"
                                        >
                                            <RefreshCcw className="w-6 h-6" /> é‡ç½®å¯¦é©—
                                        </button>
                                    )}
                                </div>
                            </div>

                            {/* çµæœèˆ‡è¨ˆç®—éç¨‹å€ */}
                            {result && isMixed && (
                                <div className="bg-white rounded-2xl shadow-lg p-6 border border-gray-200 animate-fade-in-up">
                                    <div className="flex flex-col md:flex-row gap-8">
                                        
                                        {/* çµæœæ‘˜è¦ */}
                                        <div className="md:w-1/3 flex flex-col items-center justify-center bg-blue-50 rounded-xl p-6 border border-blue-100">
                                            <h3 className="text-gray-500 font-medium mb-2">æœ€çµ‚å¹³è¡¡æº«åº¦</h3>
                                            <div className="flex items-baseline justify-center gap-1 text-4xl font-bold text-blue-700 mb-2 whitespace-nowrap">
                                                {result.finalTemp} Â°C
                                            </div>
                                            <div className="text-sm text-gray-500 text-center">
                                                ç¸½è³ªé‡: {result.totalMass.toFixed(1)} kg
                                            </div>
                                        </div>

                                        {/* è¨ˆç®—éç¨‹è©³è§£ */}
                                        <div className="md:w-2/3">
                                            <h3 className="text-lg font-bold text-gray-800 mb-3 flex items-center">
                                                <Calculator size={20} className="mr-2" />
                                                è¨ˆç®—éç¨‹è§£æ
                                            </h3>
                                            
                                            <div className="space-y-4">
                                                {/* åŸºç¤å…¬å¼ */}
                                                <div className="bg-gray-50 p-3 rounded-lg border border-gray-200">
                                                    <div className="text-sm text-gray-500 mb-1">æ‡‰ç”¨å…¬å¼ï¼šåŠ æ¬Šå¹³å‡æº«åº¦</div>
                                                    <div className="font-mono text-sm md:text-base text-gray-800">
                                                        T_final = ({Math.round(result.rawSteps.numerator)} J) / ({Math.round(result.rawSteps.denominator)} J/Â°C) 
                                                        = <strong>{result.finalTemp} Â°C</strong>
                                                    </div>
                                                </div>

                                                {/* èƒ½é‡äº¤æ›åˆ†æ */}
                                                {result.analysis ? (
                                                    <div className="border-t pt-4 mt-2">
                                                        <h4 className="font-bold text-gray-700 mb-3 text-sm flex items-center">
                                                            èƒ½é‡å®ˆæ†é©—è­‰ (æ”¾ç†± = å¸ç†±)
                                                        </h4>
                                                        <div className="grid grid-cols-1 md:grid-cols-2 gap-4">
                                                            
                                                            {/* æ”¾ç†±å€ */}
                                                            <div className="bg-red-50 p-3 rounded-lg border border-red-100">
                                                                <div className="flex items-center gap-2 text-red-700 font-bold mb-2 text-sm">
                                                                    <ArrowDown className="w-4 h-4" />
                                                                    é«˜æº«æ”¾ç†± (æ¶²é«”{result.analysis.hot.label})
                                                                </div>
                                                                <div className="text-xs text-red-600 space-y-1 font-mono">
                                                                    <div>Î”Q = m Ã— c Ã— (T_é«˜ - T_å¹³)</div>
                                                                    <div className="pl-2 opacity-80">
                                                                        = {result.analysis.hot.m} Ã— {result.analysis.hot.c} Ã— ({result.analysis.hot.t_initial} - {result.finalTemp})
                                                                    </div>
                                                                    <div className="text-base font-bold pt-1">
                                                                        = {result.analysis.qLost} J
                                                                    </div>
                                                                    <div className="text-xs opacity-75">æº«åº¦è¼ƒé«˜ç‰©è³ªæ‰€æå¤±çš„èƒ½é‡</div>
                                                                </div>
                                                            </div>

                                                            {/* å¸ç†±å€ */}
                                                            <div className="bg-blue-50 p-3 rounded-lg border border-blue-100">
                                                                <div className="flex items-center gap-2 text-blue-700 font-bold mb-2 text-sm">
                                                                    <ArrowUp className="w-4 h-4" />
                                                                    ä½æº«å¸ç†± (æ¶²é«”{result.analysis.cold.label})
                                                                </div>
                                                                <div className="text-xs text-blue-600 space-y-1 font-mono">
                                                                    <div>Î”Q = m Ã— c Ã— (T_å¹³ - T_ä½)</div>
                                                                    <div className="pl-2 opacity-80">
                                                                        = {result.analysis.cold.m} Ã— {result.analysis.cold.c} Ã— ({result.finalTemp} - {result.analysis.cold.t_initial})
                                                                    </div>
                                                                    <div className="text-base font-bold pt-1">
                                                                        = {result.analysis.qGained} J
                                                                    </div>
                                                                    <div className="text-xs opacity-75">æº«åº¦è¼ƒä½ç‰©è³ªæ‰€å¸æ”¶çš„èƒ½é‡</div>
                                                                </div>
                                                            </div>
                                                        </div>
                                                        <div className="text-center text-xs text-gray-400 mt-2">
                                                            * ç”±æ–¼å°æ•¸é»å››æ¨äº”å…¥ï¼Œå…©è€…æ•¸å€¼å¯èƒ½æœƒæœ‰äº›å¾®å·®ç•°
                                                        </div>
                                                    </div>
                                                ) : (
                                                    <div className="text-center text-gray-500 py-4">
                                                        åˆå§‹æº«åº¦ç›¸åŒï¼Œç„¡ç†±é‡äº¤æ›
                                                    </div>
                                                )}
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            )}
                            
                            {!isMixed && (
                                <div className="bg-blue-50 p-6 rounded-xl border border-blue-100 text-center">
                                    <p className="text-blue-800 font-medium">
                                        ğŸ’¡ è€å¸«å°æç¤ºï¼šè©¦è©¦çœ‹å°‡é«˜æº«çš„ã€Œé…’ç²¾ã€æ··åˆåˆ°ä½æº«çš„ã€Œæ°´ã€ä¸­ã€‚å› ç‚ºæ°´çš„æ¯”ç†±å®¹é‡ ($4200$) é å¤§æ–¼é…’ç²¾ ($2440$)ï¼Œä½ æœƒç™¼ç¾æœ€å¾Œçš„æº«åº¦æœƒæ¯”è¼ƒåå‘æ°´çš„é‚£ä¸€é‚Šå–”ï¼
                                    </p>
                                </div>
                            )}
                        </div>
                    </div>
                </div>
            );
        };

        const root = ReactDOM.createRoot(document.getElementById('root'));
        root.render(<App />);
    </script>
</body>
</html>